@model List<HCMPo.Models.Payroll>

@{
    ViewData["Title"] = "Review Generated Payroll";
    var payPeriodStart = ViewData["PayPeriodStart"]?.ToString();
    var payPeriodEnd = ViewData["PayPeriodEnd"]?.ToString();
}

<h1>@ViewData["Title"]</h1>
<h4>Pay Period: @payPeriodStart to @payPeriodEnd</h4>
<hr />

@if (!Model.Any())
{
    <div class="alert alert-warning" role="alert">
        No payroll records were generated for the selected criteria.
    </div>
}
else
{
    <p>Review the generated payroll details below. Currently, these records are not saved. Saving functionality will be added later.</p>
    
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead class="table-light">
                <tr>
                    <th>Employee</th>
                    <th>Basic Salary</th>
                    <th>Gross Salary</th> @* Placeholder *@
                    <th>Total Deductions</th> @* Placeholder *@
                    <th>Net Salary</th> @* Placeholder *@
                    <th>Status</th>
                    @* Add more columns as needed for Allowances, Deductions, Attendance details *@
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.Employee?.FullName</td>
                        <td>@item.BasicSalary.ToString("N2")</td>
                        <td>@item.GrossSalary.ToString("N2")</td>
                        <td>@item.TotalDeductions.ToString("N2")</td>
                        <td>@item.NetSalary.ToString("N2")</td>
                        <td>@item.Status</td>
                        @* Render other cells here *@
                    </tr>
                }
            </tbody>
        </table>
    </div>

    @* TODO: Add buttons here later for actions like "Save Draft", "Approve", "Export to Excel", "Export to PDF" *@
    <div class="mt-4">
        <a asp-action="Generate" class="btn btn-secondary">Back to Generate Options</a>
    </div>
} 